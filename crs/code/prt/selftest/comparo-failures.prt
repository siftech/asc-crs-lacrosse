# Hey EMACS, this should be in -*- perl -*- mode
# ------------------------------------------------------------
# COPYRIGHT START
# Copyright (c) 2014, Smart Information Flow Technologies (SIFT).
# COPYRIGHT END
# ------------------------------------------------------------

use PRT::StrictLineComparo;

# This test verifies various configurations of the PRT comparison
# capability.
#
# Test specification hash reference -- The name of the variable is not
# important, EXCEPT that it must be "returned" by this file; i.e. it
# must be the the last reference in the file
$test = {
  description => "verifies PRT comparison functionality - that they fail when they should",

  keywords => [ qw / prt test-specification comparo / ],

        # this is defaultignored and then run by the fail-monitors.prt
  defaultIgnore => 1,

  agents => [
      {
        name         => "line_comparo",
        description  => "case insensitive comparison with line comparo, which can have extra result lines.", 
        command      => [ "bash", "-c", "echo -e 'one\ntwo\nthree'" ],
        comparo      => new PRT::LineComparo(),
      },
      {
        name         => "line_comparo_nocase",
        description  => "case sensitive comparison with line comparo, which can have extra result lines.", 
        command      => [ "bash", "-c", "echo -e 'one\ntwo\nthree'" ],
        comparo      => new PRT::LineComparo(case_sensitive=>0),
      },
      {
        name         => "strict_line_comparo",
        description  => "comparison with strict line comparo, which must match all lines in both rubric and results.",
        command      => [ "bash", "-c", "echo -e 'one\ntwo\nthree'" ],
        comparo      => new PRT::StrictLineComparo(),
      },
      {
        name         => "strict_line_comparo_nocase",
        description  => "case insensitive comparison with strict line comparo, which must match all lines in both rubric and results.",
        command      => [ "bash", "-c", "echo -e 'one\ntwo\nthree'" ],
        comparo      => new PRT::StrictLineComparo(case_sensitive=>0),
      },
    ]
  };

# you could put other code here, but not sure what that would serve.

# Always end with a reference to the test specification hash reference.
$test;
